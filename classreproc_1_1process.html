<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>reproc: reproc::process Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">reproc
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Cross-platform library that simplifies working with external CLI applications from C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacereproc.html">reproc</a></li><li class="navelem"><a class="el" href="classreproc_1_1process.html">process</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">reproc::process Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="reproc_8hpp_source.html">reproc.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad4148fe6eca232452c5ee1e5bd8ed349"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#ad4148fe6eca232452c5ee1e5bd8ed349">process</a> (<a class="el" href="namespacereproc.html#a327428873e0337014a57ddc7215df6dc">reproc::cleanup</a> cleanup_flags=<a class="el" href="namespacereproc.html#a327428873e0337014a57ddc7215df6dca49256b9819abacbb8e6e031a03abe81b">reproc::cleanup::wait</a>, unsigned int timeout=0)</td></tr>
<tr class="separator:ad4148fe6eca232452c5ee1e5bd8ed349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ed1d578f12d125379e6a81fdf67c4f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#a9ed1d578f12d125379e6a81fdf67c4f8">~process</a> () noexcept</td></tr>
<tr class="separator:a9ed1d578f12d125379e6a81fdf67c4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a896067b30edec1049a099eded3329"><td class="memItemLeft" align="right" valign="top"><a id="aa4a896067b30edec1049a099eded3329"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>process</b> (const <a class="el" href="classreproc_1_1process.html">process</a> &amp;)=delete</td></tr>
<tr class="separator:aa4a896067b30edec1049a099eded3329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b99662fc56b007bfa0a97ba1e6a1ec"><td class="memItemLeft" align="right" valign="top"><a id="a58b99662fc56b007bfa0a97ba1e6a1ec"></a>
<a class="el" href="classreproc_1_1process.html">process</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classreproc_1_1process.html">process</a> &amp;)=delete</td></tr>
<tr class="separator:a58b99662fc56b007bfa0a97ba1e6a1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0026a6fcbdf720a230da86a7b683ceb8"><td class="memItemLeft" align="right" valign="top"><a id="a0026a6fcbdf720a230da86a7b683ceb8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>process</b> (<a class="el" href="classreproc_1_1process.html">process</a> &amp;&amp;other) noexcept=default</td></tr>
<tr class="separator:a0026a6fcbdf720a230da86a7b683ceb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f0ecec5f1596e428bab7003a94513d"><td class="memItemLeft" align="right" valign="top"><a id="af7f0ecec5f1596e428bab7003a94513d"></a>
<a class="el" href="classreproc_1_1process.html">process</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classreproc_1_1process.html">process</a> &amp;&amp;other) noexcept=default</td></tr>
<tr class="separator:af7f0ecec5f1596e428bab7003a94513d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f0bb6fd6f6b99a7c5375e62ccadbed"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#a96f0bb6fd6f6b99a7c5375e62ccadbed">start</a> (int argc, const char *const *argv, const char *working_directory=nullptr) noexcept</td></tr>
<tr class="separator:a96f0bb6fd6f6b99a7c5375e62ccadbed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29228758bab75a968c41ed86b30f7937"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#a29228758bab75a968c41ed86b30f7937">start</a> (const <a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a>&lt; <a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &gt; &amp;args, const <a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> *working_directory=nullptr)</td></tr>
<tr class="separator:a29228758bab75a968c41ed86b30f7937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3acb67a2fd3746933e66a0b72adb629b"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#a3acb67a2fd3746933e66a0b72adb629b">write</a> (const void *buffer, unsigned int to_write, unsigned int *bytes_written) noexcept</td></tr>
<tr class="separator:a3acb67a2fd3746933e66a0b72adb629b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfd37f758a0a780496fc05f91b2bc53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#a1bfd37f758a0a780496fc05f91b2bc53">close</a> (<a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">reproc::stream</a> <a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">stream</a>) noexcept</td></tr>
<tr class="separator:a1bfd37f758a0a780496fc05f91b2bc53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f9d27e21e8ce14b9ab5760ebd15761"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#a43f9d27e21e8ce14b9ab5760ebd15761">read</a> (<a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">reproc::stream</a> <a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">stream</a>, void *buffer, unsigned int size, unsigned int *bytes_read) noexcept</td></tr>
<tr class="separator:a43f9d27e21e8ce14b9ab5760ebd15761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfab18400b90185420c8319a3e358adb"><td class="memTemplParams" colspan="2">template&lt;typename Parser &gt; </td></tr>
<tr class="memitem:acfab18400b90185420c8319a3e358adb"><td class="memTemplItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#acfab18400b90185420c8319a3e358adb">read</a> (<a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">reproc::stream</a> <a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">stream</a>, Parser &amp;&amp;parser)</td></tr>
<tr class="separator:acfab18400b90185420c8319a3e358adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a771014b0e76165d615c69a31abbca1c5"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreproc_1_1process.html#a771014b0e76165d615c69a31abbca1c5">stop</a> (<a class="el" href="namespacereproc.html#a327428873e0337014a57ddc7215df6dc">reproc::cleanup</a> cleanup_flags, unsigned int timeout, unsigned int *exit_status) noexcept</td></tr>
<tr class="separator:a771014b0e76165d615c69a31abbca1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Improves on reproc's C API by wrapping it in a class. Aside from methods that mimick the C API it also adds configurable RAII and several methods that reduce the boilerplate required when using reproc from idiomatic C++ code. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="cmake-help_8cpp-example.html#_a3">cmake-help.cpp</a>, and <a class="el" href="forward_8cpp-example.html#_a3">forward.cpp</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="reproc_8hpp_source.html#l00051">51</a> of file <a class="el" href="reproc_8hpp_source.html">reproc.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad4148fe6eca232452c5ee1e5bd8ed349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4148fe6eca232452c5ee1e5bd8ed349">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reproc::process::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacereproc.html#a327428873e0337014a57ddc7215df6dc">reproc::cleanup</a>&#160;</td>
          <td class="paramname"><em>cleanup_flags</em> = <code><a class="el" href="namespacereproc.html#a327428873e0337014a57ddc7215df6dca49256b9819abacbb8e6e031a03abe81b">reproc::cleanup::wait</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates memory for the <a class="el" href="structreproc__type.html">reproc_type</a> struct. Throws <a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/memory/new/bad_alloc.html">std::bad_alloc</a> if allocating memory for the <a class="el" href="structreproc__type.html">reproc_type</a> struct of the underlying C library fails.</p>
<p>Takes arguments that are passed to <a class="el" href="classreproc_1_1process.html#a771014b0e76165d615c69a31abbca1c5">stop</a> in the destructor if the process is still running by the time the object is destroyed. The default flags and timeout value only tell the destructor to check if the process has exited. Pass different flags and timeout values if the destructor should wait longer for the process to exit or if the process should be stopped forcefully in the destructor.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="reproc_8h.html#a1c60248455f71038e9006092fbfe08de">reproc_stop</a> </dd></dl>

</div>
</div>
<a id="a9ed1d578f12d125379e6a81fdf67c4f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed1d578f12d125379e6a81fdf67c4f8">&#9670;&nbsp;</a></span>~process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">reproc::process::~process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Frees the allocated memory for the <a class="el" href="structreproc__type.html">reproc_type</a> struct and calls <a class="el" href="classreproc_1_1process.html#a771014b0e76165d615c69a31abbca1c5">stop</a> with the arguments provided in the constructor if <a class="el" href="classreproc_1_1process.html#a771014b0e76165d615c69a31abbca1c5">stop</a> hasn't been called explicitly yet. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a96f0bb6fd6f6b99a7c5375e62ccadbed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f0bb6fd6f6b99a7c5375e62ccadbed">&#9670;&nbsp;</a></span>start() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a> reproc::process::start </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>working_directory</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="reproc_8h.html#a29cb1ef637c10f7a6210bd3c4de2fc26">reproc_start</a> </dd></dl>

</div>
</div>
<a id="a29228758bab75a968c41ed86b30f7937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29228758bab75a968c41ed86b30f7937">&#9670;&nbsp;</a></span>start() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a> reproc::process::start </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a>&lt; <a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> *&#160;</td>
          <td class="paramname"><em>working_directory</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Overload of <a class="el" href="classreproc_1_1process.html#a96f0bb6fd6f6b99a7c5375e62ccadbed">start</a> for convenient usage from C++.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">args</td><td>Has the same restrictions as argv in <a class="el" href="reproc_8h.html#a29cb1ef637c10f7a6210bd3c4de2fc26">reproc_start</a> except that it should not end with <code>NULL</code> (this method allocates a new array which includes the missing <code>NULL</code> value). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">working_directory</td><td>Optional working directory. Defaults to <code>nullptr</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="namespacereproc.html#add108cd36503e8c00669915c11ed9fa2">reproc::errc</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="reproc_8h.html#a29cb1ef637c10f7a6210bd3c4de2fc26">reproc_start</a> </dd></dl>

</div>
</div>
<a id="a3acb67a2fd3746933e66a0b72adb629b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3acb67a2fd3746933e66a0b72adb629b">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a> reproc::process::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>to_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>bytes_written</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="reproc_8h.html#a27f994dc86f3a07484cf569e7502d4d3">reproc_write</a> </dd></dl>

</div>
</div>
<a id="a1bfd37f758a0a780496fc05f91b2bc53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bfd37f758a0a780496fc05f91b2bc53">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void reproc::process::close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">reproc::stream</a>&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="reproc_8h.html#a14f0e1957449afc6331457f5ff1b4967">reproc_close</a> </dd></dl>

</div>
</div>
<a id="a43f9d27e21e8ce14b9ab5760ebd15761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f9d27e21e8ce14b9ab5760ebd15761">&#9670;&nbsp;</a></span>read() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a> reproc::process::read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">reproc::stream</a>&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>bytes_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="reproc_8h.html#afb6ffa9dbc27c14ae5e6c4b9b3d9ec0d">reproc_read</a> </dd></dl>

</div>
</div>
<a id="acfab18400b90185420c8319a3e358adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfab18400b90185420c8319a3e358adb">&#9670;&nbsp;</a></span>read() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Parser &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a> reproc::process::read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacereproc.html#a8568e010f3ba5a8c1750d8ba1599d533">reproc::stream</a>&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Parser &amp;&amp;&#160;</td>
          <td class="paramname"><em>parser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls <a class="el" href="classreproc_1_1process.html#a43f9d27e21e8ce14b9ab5760ebd15761">read</a> until an error occurs or the provided parser returns false.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Parser</td><td><p class="starttd">Should be a function with the following signature:</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> parser(<span class="keyword">const</span> <span class="keywordtype">char</span> *buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size);</div></div><!-- fragment --><p>The parser receives the buffer after each read so it can be appended to the final result. One way to make a parser is to use a lambda:</p>
<div class="fragment"><div class="line"><a class="code" href="classreproc_1_1process.html">reproc::process</a> <a class="code" href="classreproc_1_1process.html#ad4148fe6eca232452c5ee1e5bd8ed349">process</a>;</div><div class="line"><a class="code" href="classreproc_1_1process.html#ad4148fe6eca232452c5ee1e5bd8ed349">process</a>.start(...)</div><div class="line"></div><div class="line"><a class="codeRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> output;</div><div class="line"><a class="code" href="classreproc_1_1process.html#ad4148fe6eca232452c5ee1e5bd8ed349">process</a>.read(reproc::stream::cout,</div><div class="line">             [&amp;output](<span class="keyword">const</span> <span class="keywordtype">char</span> *buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size) {</div><div class="line">  output.<a class="codeRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/string/basic_string/append.html">append</a>(buffer, size);</div><div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">});</div></div><!-- fragment --><p>This parser reads the entire output of the child process into a string.</p>
<p>It is also possible to use a class that overloads the call operator as a parser. <a class="el" href="parser_8hpp.html">parser.hpp</a> contains built-in parsers that are defined as a class.</p>
<p>Note that this method does not report the child process closing the output stream as an error.</p>
<p class="endtd">For examples of parsers, see <a class="el" href="parser_8hpp.html">parser.hpp</a>. </p>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>Stream to read from </td></tr>
    <tr><td class="paramname">parser</td><td>Instance of <code>Parser</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="namespacereproc.html#add108cd36503e8c00669915c11ed9fa2">reproc::errc</a></dd></dl>
<p>Possible errors: See <a class="el" href="classreproc_1_1process.html#a43f9d27e21e8ce14b9ab5760ebd15761">read</a> except for <a class="el" href="namespacereproc.html#add108cd36503e8c00669915c11ed9fa2abbe399df54da61817971f51c73409303">reproc::errc::stream_closed</a> </p>

<p class="definition">Definition at line <a class="el" href="reproc_8hpp_source.html#l00177">177</a> of file <a class="el" href="reproc_8hpp_source.html">reproc.hpp</a>.</p>

</div>
</div>
<a id="a771014b0e76165d615c69a31abbca1c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a771014b0e76165d615c69a31abbca1c5">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="C:/Users/daan/projects/reproc/build/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/error/error_code.html">std::error_code</a> reproc::process::stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacereproc.html#a327428873e0337014a57ddc7215df6dc">reproc::cleanup</a>&#160;</td>
          <td class="paramname"><em>cleanup_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>exit_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="reproc_8h.html#a1c60248455f71038e9006092fbfe08de">reproc_stop</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/daan/projects/reproc/include/cpp/reproc/<a class="el" href="reproc_8hpp_source.html">reproc.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
